#!/bin/bash

set -e

SCREENSHOT_DIR="$HOME/Pictures/screenshots"
FILENAME_FORMAT='%Y%m%d%H%M%S'

mkdir -p "$SCREENSHOT_DIR"

case "$1" in
  # Capture the full screen
  screen)
    scrot -z "$SCREENSHOT_DIR/screen-$FILENAME_FORMAT.png"
    notify-send 'Screenshot' 'Screen captured' ;;
  # Capture a selected area
  area)
    scrot -s -z "$SCREENSHOT_DIR/area-$FILENAME_FORMAT.png"
    notify-send 'Screenshot' 'Selected area captured' ;;
  # Capture the current window
  window)
    scrot -u -z "$SCREENSHOT_DIR/window-$FILENAME_FORMAT.png"
    notify-send 'Screenshot' 'Focused window captured' ;;
esac
